{"version":3,"sources":["webpack:///./src/views/mine/index.vue?133d","webpack:///src/views/mine/index.vue","webpack:///./src/views/mine/index.vue?6fd8","webpack:///./src/views/mine/index.vue","webpack:///./src/views/mine/index.vue?28fc","webpack:///./src/http/user.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","slot","currentUser","photo","_v","_s","name","on","editData","art_count","follow_count","fans_count","like_count","$event","$router","push","query","redirect","handleLogout","_e","staticRenderFns","data","e","computed","methods","$dialog","confirm","title","message","console","log","created","user","getCurrentUserInfo","component","hanldeLoginApi","request","method","url","handleSendMobileMessageApi","userInfoApi","getUserTabsListApi","getAllChannelsApi","addUserChannelApi","deleteUserChannelApi","followAutorApi","cancelFollowAutorApi","target","getUserProfitApi"],"mappings":"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","file":"js/chunk-d802734c.adf8abbd.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mine\"},[(_vm.user)?_c('van-cell-group',{staticClass:\"topMsg\"},[_c('van-cell',{staticClass:\"avatorMsg\",attrs:{\"center\":\"\",\"border\":false}},[_c('div',{attrs:{\"slot\":\"icon\"},slot:\"icon\"},[_c('van-image',{attrs:{\"round\":\"\",\"src\":_vm.currentUser.photo,\"fit\":\"cover\"}})],1),_c('div',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\" \"+_vm._s(_vm.currentUser.name)+\" \")]),_c('div',{attrs:{\"slot\":\"right-icon\"},slot:\"right-icon\"},[_c('van-button',{attrs:{\"round\":\"\",\"size\":\"small\"},on:{\"click\":_vm.editData}},[_vm._v(\"编辑资料\")])],1)]),_c('van-grid',{attrs:{\"border\":false}},[_c('van-grid-item',[_c('div',{staticClass:\"title\",attrs:{\"slot\":\"text\"},slot:\"text\"},[_vm._v(_vm._s(_vm.currentUser.art_count))]),_c('div',{staticClass:\"text\",attrs:{\"slot\":\"text\"},slot:\"text\"},[_vm._v(\"头条\")])]),_c('van-grid-item',[_c('div',{staticClass:\"title\",attrs:{\"slot\":\"text\"},slot:\"text\"},[_vm._v(_vm._s(_vm.currentUser.follow_count))]),_c('div',{staticClass:\"text\",attrs:{\"slot\":\"text\"},slot:\"text\"},[_vm._v(\"关注\")])]),_c('van-grid-item',[_c('div',{staticClass:\"title\",attrs:{\"slot\":\"text\"},slot:\"text\"},[_vm._v(_vm._s(_vm.currentUser.fans_count))]),_c('div',{staticClass:\"text\",attrs:{\"slot\":\"text\"},slot:\"text\"},[_vm._v(\"粉丝\")])]),_c('van-grid-item',[_c('div',{staticClass:\"title\",attrs:{\"slot\":\"text\"},slot:\"text\"},[_vm._v(_vm._s(_vm.currentUser.like_count))]),_c('div',{staticClass:\"text\",attrs:{\"slot\":\"text\"},slot:\"text\"},[_vm._v(\"获赞\")])])],1)],1):_c('van-cell-group',{staticClass:\"no-login\",attrs:{\"border\":false}},[_c('van-cell',[_c('div',{staticClass:\"no-login-wrapper\",attrs:{\"slot\":\"title\"},on:{\"click\":function($event){return _vm.$router.push({\n        name: 'login',\n        query: {\n          redirect: '/mine'\n        }\n      })}},slot:\"title\"},[_c('div',[_c('i',{staticClass:\"iconfont toutiao-wode\"})]),_c('div',[_vm._v(\"登录 / 注册\")])])])],1),_c('van-grid',{staticClass:\"saveMsg\",attrs:{\"column-num\":2,\"border\":false}},[_c('van-grid-item',{attrs:{\"icon-prefix\":\"iconfont toutiao\",\"icon\":\"shoucang\",\"text\":\"收藏\"}}),_c('van-grid-item',{attrs:{\"icon-prefix\":\"iconfont toutiao\",\"icon\":\"lishi\",\"text\":\"历史\"}})],1),_c('van-cell',{attrs:{\"title\":\"小智同学\",\"is-link\":\"\",\"to\":\"chat\"}}),(_vm.user)?_c('van-cell',{staticClass:\"logout\",attrs:{\"title\":\"退出登录\"},on:{\"click\":_vm.handleLogout}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"mine\">\n    <van-cell-group v-if=\"user\" class=\"topMsg\">\n      <!-- 顶部头像和数据信息 -->\n      <van-cell center class=\"avatorMsg\" :border=\"false\">\n        <!-- 左侧头像插槽 -->\n        <div slot=\"icon\">\n          <van-image\n            round\n            :src=\"currentUser.photo\"\n            fit=\"cover\"\n          />\n        </div>\n        <!-- 左侧昵称插槽 -->\n        <div slot=\"title\">\n          {{currentUser.name}}\n        </div>\n        <!-- 右侧按钮插槽 -->\n        <div slot=\"right-icon\">\n          <van-button round size=\"small\" @click=\"editData\">编辑资料</van-button>\n        </div>\n      </van-cell>\n      <!-- data数据 -->\n      <van-grid :border=\"false\">\n        <van-grid-item>\n          <div slot=\"text\" class=\"title\">{{currentUser.art_count}}</div>\n          <div slot=\"text\" class=\"text\">头条</div>\n        </van-grid-item>\n        <van-grid-item>\n          <div slot=\"text\" class=\"title\">{{currentUser.follow_count}}</div>\n          <div slot=\"text\" class=\"text\">关注</div>\n        </van-grid-item>\n        <van-grid-item>\n          <div slot=\"text\" class=\"title\">{{currentUser.fans_count}}</div>\n          <div slot=\"text\" class=\"text\">粉丝</div>\n        </van-grid-item>\n        <van-grid-item>\n          <div slot=\"text\" class=\"title\">{{currentUser.like_count}}</div>\n          <div slot=\"text\" class=\"text\">获赞</div>\n        </van-grid-item>\n      </van-grid>\n    </van-cell-group>\n    <van-cell-group v-else class=\"no-login\" :border=\"false\">\n      <van-cell>\n        <div slot=\"title\" class=\"no-login-wrapper\" @click=\"$router.push({\n          name: 'login',\n          query: {\n            redirect: '/mine'\n          }\n        })\">\n          <div>\n            <i class=\"iconfont toutiao-wode\"></i>\n          </div>\n          <div>登录 / 注册</div>\n        </div>\n      </van-cell>\n    </van-cell-group>\n    <van-grid class=\"saveMsg\" :column-num=\"2\" :border=\"false\">\n      <van-grid-item icon-prefix=\"iconfont toutiao\" icon=\"shoucang\" text=\"收藏\" />\n      <van-grid-item icon-prefix=\"iconfont toutiao\" icon=\"lishi\" text=\"历史\" />\n    </van-grid>\n    <van-cell title=\"小智同学\" is-link to=\"chat\" />\n    <van-cell v-if=\"user\"\n      class=\"logout\"\n      title=\"退出登录\"\n      @click=\"handleLogout\"\n    />\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\nimport { userInfoApi } from '@/http/user'\nexport default {\n  name: 'mine',\n  data () {\n    return {\n      currentUser: {},\n      e: null\n    }\n  },\n  computed: {\n    ...mapState(['user'])\n  },\n  methods: {\n    async getCurrentUserInfo () {\n      const { data } = await userInfoApi()\n      console.log('当前用户信息', data)\n      this.currentUser = data.data\n    },\n    handleLogout () {\n      this.$dialog.confirm({\n        title: '退出确认',\n        message: '退出当前头条账号，将不能同步收藏，发布评论和云端分享等'\n      }).then(() => {\n        // on close\n        this.$store.commit('setUser', null)\n        // 点击退出登录 需要清除二级路由home页面的缓存\n        this.$store.commit('addHomeAcaheView', 'home')\n      })\n    },\n    editData () {\n      console.log(123)\n      this.$router.push({\n        name: 'editData'\n      })\n    }\n  },\n  created () {\n    if (this.user) {\n      this.getCurrentUserInfo()\n    }\n  }\n\n}\n</script>\n\n<style scoped lang=\"scss\">\n.mine {\n  .topMsg {\n    background: url(\"./imgs/banner@2x.png\");\n    background-size: cover;\n    .avatorMsg {\n      box-sizing: border-box;\n      height: 115px;\n      background-color: unset;\n      padding: 38px 16px 12px 16px;\n      .van-image  {\n        width: 66px;\n        height: 66px;\n        border-radius: 66px;\n        border: 1px solid #fff;\n      }\n      .van-cell__title {\n        padding-left: 11px;\n        font-size: 15px;\n        color: #fff;\n      }\n      .van-button__text {\n        // color: #c1c1c1;\n      }\n      .van-button {\n        height: 17px;\n        color: #666;\n      }\n    }\n    .van-grid{\n      height: 65px;\n      .van-grid-item {\n        height: 100%;\n        /deep/.van-grid-item__content {\n          background-color: unset !important;\n          color: #fff;\n          .title {\n            font-size: 18px;\n            margin-bottom: 8px;\n          }\n          .text {\n            font-size: 12px;\n          }\n        }\n      }\n    }\n\n  }\n  .no-login {\n    height: 180px;\n    background: url(\"./imgs/banner@2x.png\");\n    background-size: cover;\n    display: flex;\n    align-items: center;\n\n    .van-cell {\n      background: unset;\n\n      .van-cell__title {\n        text-align: center;\n        color: #fff;\n        font-size: 18px;\n        line-height: 30px;\n        .no-login-wrapper {\n          display: inline-block;\n          .toutiao-wode {\n            font-size: 30px;\n            color: #fff;\n          }\n        }\n\n      }\n    }\n  }\n  .saveMsg {\n    height: 70px;\n    margin-bottom: 5px;\n    .van-grid-item {\n      box-sizing: border-box;\n      height: 100%;\n      /deep/.van-grid-item__content {\n\n        /deep/.toutiao {\n          font-size: 22px;\n        }\n        .toutiao-shoucang {\n          color: #eb5253;\n        }\n        .toutiao-lishi {\n          color: #ff9d1d;\n        }\n      }\n\n    }\n  }\n  .logout {\n    text-align: center;\n    margin-top: 5px;\n    font-size: 15px;\n    color: #d86262;\n  }\n}\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=30e06d83&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=30e06d83&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"30e06d83\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=30e06d83&scoped=true&lang=scss&\"","/**\n * 用户相关的请求模块\n */\nimport request from '@/utils/request'\n\n/**\n * 登录注册\n */\nexport const hanldeLoginApi = (data) => {\n  return request({\n    method: 'POST',\n    url: '/app/v1_0/authorizations',\n    data\n  })\n}\n\n/**\n * 发送手机验证码\n */\nexport const handleSendMobileMessageApi = (data) => {\n  return request({\n    method: 'GET',\n    url: `/app/v1_0/sms/codes/${data}`\n  })\n}\n\n/**\n * 获取用户自己的信息\n */\n\nexport const userInfoApi = () => {\n  return request({\n    method: 'GET',\n    url: '/app/v1_0/user'\n  })\n}\n\n/**\n * 获取用户首页头部标签内容\n */\n\nexport const getUserTabsListApi = () => {\n  return request({\n    method: 'GET',\n    url: '/app/v1_0/user/channels'\n  })\n}\n\n/**\n *\n * 获取所有的频道\n */\n\nexport const getAllChannelsApi = () => {\n  return request({\n    method: 'GET',\n    url: '/app/v1_0/channels'\n  })\n}\n\n/**\n * 新增用户频道\n *\n */\n\nexport const addUserChannelApi = data => {\n  return request({\n    method: 'PATCH',\n    url: '/app/v1_0/user/channels',\n    data\n  })\n}\n\n/**\n * 删除指定的频道\n */\nexport const deleteUserChannelApi = data => {\n  return request({\n    method: 'DELETE',\n    url: `/app/v1_0/user/channels/${data}`\n  })\n}\n\n/**\n * 关注用户\n */\nexport const followAutorApi = data => {\n  return request({\n    method: 'POST',\n    url: '/app/v1_0/user/followings',\n    data\n  })\n}\n\n/**\n * 取消关注用户\n */\n\nexport const cancelFollowAutorApi = target => {\n  return request({\n    method: 'DELETE',\n    url: `/app/v1_0/user/followings/${target}`\n  })\n}\n\n/**\n * 获取用户个人信息\n */\nexport const getUserProfitApi = () => {\n  return request({\n    method: 'GET',\n    url: '/app/v1_0/user/profile'\n  })\n}\n"],"sourceRoot":""}