(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d802734c"],{4640:function(t,e,n){},b5b1:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mine"},[t.user?n("van-cell-group",{staticClass:"topMsg"},[n("van-cell",{staticClass:"avatorMsg",attrs:{center:"",border:!1}},[n("div",{attrs:{slot:"icon"},slot:"icon"},[n("van-image",{attrs:{round:"",src:t.currentUser.photo,fit:"cover"}})],1),n("div",{attrs:{slot:"title"},slot:"title"},[t._v(" "+t._s(t.currentUser.name)+" ")]),n("div",{attrs:{slot:"right-icon"},slot:"right-icon"},[n("van-button",{attrs:{round:"",size:"small"},on:{click:t.editData}},[t._v("编辑资料")])],1)]),n("van-grid",{attrs:{border:!1}},[n("van-grid-item",[n("div",{staticClass:"title",attrs:{slot:"text"},slot:"text"},[t._v(t._s(t.currentUser.art_count))]),n("div",{staticClass:"text",attrs:{slot:"text"},slot:"text"},[t._v("头条")])]),n("van-grid-item",[n("div",{staticClass:"title",attrs:{slot:"text"},slot:"text"},[t._v(t._s(t.currentUser.follow_count))]),n("div",{staticClass:"text",attrs:{slot:"text"},slot:"text"},[t._v("关注")])]),n("van-grid-item",[n("div",{staticClass:"title",attrs:{slot:"text"},slot:"text"},[t._v(t._s(t.currentUser.fans_count))]),n("div",{staticClass:"text",attrs:{slot:"text"},slot:"text"},[t._v("粉丝")])]),n("van-grid-item",[n("div",{staticClass:"title",attrs:{slot:"text"},slot:"text"},[t._v(t._s(t.currentUser.like_count))]),n("div",{staticClass:"text",attrs:{slot:"text"},slot:"text"},[t._v("获赞")])])],1)],1):n("van-cell-group",{staticClass:"no-login",attrs:{border:!1}},[n("van-cell",[n("div",{staticClass:"no-login-wrapper",attrs:{slot:"title"},on:{click:function(e){return t.$router.push({name:"login",query:{redirect:"/mine"}})}},slot:"title"},[n("div",[n("i",{staticClass:"iconfont toutiao-wode"})]),n("div",[t._v("登录 / 注册")])])])],1),n("van-grid",{staticClass:"saveMsg",attrs:{"column-num":2,border:!1}},[n("van-grid-item",{attrs:{"icon-prefix":"iconfont toutiao",icon:"shoucang",text:"收藏"}}),n("van-grid-item",{attrs:{"icon-prefix":"iconfont toutiao",icon:"lishi",text:"历史"}})],1),n("van-cell",{attrs:{title:"小智同学","is-link":"",to:"chat"}}),t.user?n("van-cell",{staticClass:"logout",attrs:{title:"退出登录"},on:{click:t.handleLogout}}):t._e()],1)},s=[],o=n("1da1"),a=n("5530"),i=(n("96cf"),n("2f62")),c=n("fed0"),u={name:"mine",data:function(){return{currentUser:{},e:null}},computed:Object(a["a"])({},Object(i["b"])(["user"])),methods:{getCurrentUserInfo:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["k"])();case 2:n=e.sent,r=n.data,console.log("当前用户信息",r),t.currentUser=r.data;case 6:case"end":return e.stop()}}),e)})))()},handleLogout:function(){var t=this;this.$dialog.confirm({title:"退出确认",message:"退出当前头条账号，将不能同步收藏，发布评论和云端分享等"}).then((function(){t.$store.commit("setUser",null),t.$store.commit("addHomeAcaheView","home")}))},editData:function(){console.log(123),this.$router.push({name:"editData"})}},created:function(){this.user&&this.getCurrentUserInfo()}},l=u,d=(n("df4c"),n("2877")),v=Object(d["a"])(l,r,s,!1,null,"30e06d83",null);e["default"]=v.exports},df4c:function(t,e,n){"use strict";n("4640")},fed0:function(t,e,n){"use strict";n.d(e,"j",(function(){return s})),n.d(e,"i",(function(){return o})),n.d(e,"k",(function(){return a})),n.d(e,"h",(function(){return i})),n.d(e,"f",(function(){return c})),n.d(e,"a",(function(){return u})),n.d(e,"c",(function(){return l})),n.d(e,"e",(function(){return d})),n.d(e,"b",(function(){return v})),n.d(e,"g",(function(){return f})),n.d(e,"d",(function(){return p}));var r=n("b775"),s=function(t){return Object(r["a"])({method:"POST",url:"/app/v1_0/authorizations",data:t})},o=function(t){return Object(r["a"])({method:"GET",url:"/app/v1_0/sms/codes/".concat(t)})},a=function(){return Object(r["a"])({method:"GET",url:"/app/v1_0/user"})},i=function(){return Object(r["a"])({method:"GET",url:"/app/v1_0/user/channels"})},c=function(){return Object(r["a"])({method:"GET",url:"/app/v1_0/channels"})},u=function(t){return Object(r["a"])({method:"PATCH",url:"/app/v1_0/user/channels",data:t})},l=function(t){return Object(r["a"])({method:"DELETE",url:"/app/v1_0/user/channels/".concat(t)})},d=function(t){return Object(r["a"])({method:"POST",url:"/app/v1_0/user/followings",data:t})},v=function(t){return Object(r["a"])({method:"DELETE",url:"/app/v1_0/user/followings/".concat(t)})},f=function(){return Object(r["a"])({method:"GET",url:"/app/v1_0/user/profile"})},p=function(t){return Object(r["a"])({method:"PATCH",url:"/app/v1_0/user/profile",data:t})}}}]);
//# sourceMappingURL=chunk-d802734c.8dc4e4c2.js.map